## Задание 7 : Опознание двоичного дерева поиска (усложненная версия)

**Студент ИТМО,  Нгуен Хыу Жанг  415189**  

## Вариант 28

## Задание

Эта задача отличается от предыдущей тем, что двоичное дерева поиска может содержать равные ключи.

Вам дано двоичное дерево с ключами - целыми числами, которые могут повторяться. Вам нужно проверить, является ли это правильным двоичным деревом поиска. Теперь, для каждой вершины дерева V выполняется следующее условие:

• все ключи вершин из левого поддерева меньше ключа вершины V ;

• все ключи вершин из правого поддерева больше или равны ключу вершины V .

Другими словами, узлы с меньшими ключами находятся слева, а узлы с большими ключами – справа, дубликаты всегда справа. Вам необходимо проверить, удовлетворяет ли данная структура двоичного дерева этому условию.

• Формат ввода / входного файла (input.txt). В первой строке входного файла содержится количество узлов n. Узлы дерева пронумерованы от 0 до n − 1. Узел 0 является корнем. Следующие n строк содержат информацию об узлах 0, 1, ..., n − 1 по порядку. Каждая из этих строк содержит три целых числа Ki , Li и Ri. Ki – ключ i-го узла, Li - индекс левого ребенка i-го узла, а Ri - индекс правого ребенка i-го узла. Если у i-го узла нет левого или правого ребенка (или обоих), соответствующие числа Li или
Ri (или оба) будут равны −1.

• Ограничения на входные данные. 0 ≤ n ≤ 10^5, −2^31 ≤ Ki ≤ 2^31 − 1, −1 ≤ Li, Ri ≤ n − 1. Гарантируется, что данное дерево является двоичным деревом. В частности, если Li ̸= −1 и Ri ̸= −1, то Li ̸= Ri. Кроме того, узел не может быть ребенком двух разных узлов. Кроме того, каждый узел является потомком корневого узла. Обратите внимание, что минимальное и максимальное возможные значения 32-битного целочисленного типа могут быть ключами в дереве.

• Формат вывода / выходного файла (output.txt). Если заданное двоичное дерево является правильным двоичным деревом поиска, выведите одно слово «CORRECT» (без кавычек). В противном случае выведите одно слово «INCORRECT» (без кавычек).

 
## Input / Output 

- Пример 1:

| Input                                                | Output                               |   
|------------------------------------------------------|--------------------------------------|
| 3<br/>2 1 2<br/>1 -1 -1<br/>3 -1 -1                  | CORRECT                              |

- Пример 2:

| Input                                                                     | Output                               |   
|---------------------------------------------------------------------------|--------------------------------------|
| 3<br/>1 1 2<br/>2 -1 -1<br/>3 -1 -1                                       | INCORRECT                            |

- Пример 3:

| Input                                                | Output                               |   
|------------------------------------------------------|--------------------------------------|
| 3<br/>2 1 2<br/>1 -1 -1<br/>2 -1 -1                  | CORRECT                              |

- Пример 4:

| Input                                                | Output                               |   
|------------------------------------------------------|--------------------------------------|
| 3<br/>2 1 2<br/>2 -1 -1<br/>3 -1 -1                  | INCORRECT                            |

- Пример 5:

| Input                                                            | Output                               |   
|------------------------------------------------------------------|--------------------------------------|
| 5<br/>1 -1 1<br/>2 -1 2<br/>3 -1 3<br/>4 -1 4<br/>5 -1 -1        | CORRECT                              |

- Пример 6:

| Input                                                                                             | Output                               |   
|---------------------------------------------------------------------------------------------------|--------------------------------------|
| 7<br/>4 1 2<br/>2 3 4<br/>6 5 6<br/>1 -1 -1<br/>3 -1 -1<br/>5 -1 -1<br/>7 -1 -1                   | CORRECT                              |

- Пример 7:

| Input                                                | Output                               |   
|------------------------------------------------------|--------------------------------------|
| 1<br/>2147483647 -1 -1                               | CORRECT                              |


## Ограничения по времени и памяти

- Ограничение по времени. 10 сек.

- Ограничение по памяти. 512 мб.


## Запуск проекта
1. **Клонируйте репозиторий**
   ```bash
   git clone https://github.com/haha523/algorithms-and-data-semester-2.git
   ```
2. **Перейдите в папку с проектом**
   ```bash
   cd "algorithms and data/lab2"
   ```
